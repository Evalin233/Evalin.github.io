<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>MySQL学习day02 | evalin-blog</title><meta name="author" content="Evalin"><meta name="copyright" content="Evalin"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="MySQL学习-day021、把查询结果去除重复记录【distinct】注意：原表数据不会被修改，只是查询结果去重。去重需要使用一个关键字：distinct 12345678910mysql&gt; select distinct job from emp;+-----------+| job       |+-----------+| CLERK     || SALESMAN  || MANA">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL学习day02">
<meta property="og:url" content="http://example.com/post/9436f855.html">
<meta property="og:site_name" content="evalin-blog">
<meta property="og:description" content="MySQL学习-day021、把查询结果去除重复记录【distinct】注意：原表数据不会被修改，只是查询结果去重。去重需要使用一个关键字：distinct 12345678910mysql&gt; select distinct job from emp;+-----------+| job       |+-----------+| CLERK     || SALESMAN  || MANA">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.hd-r.cn/242f2f2d8520b9f8f8c3369ee8e8ab8b.jpg">
<meta property="article:published_time" content="2023-06-24T01:54:06.000Z">
<meta property="article:modified_time" content="2023-06-25T03:06:15.197Z">
<meta property="article:author" content="Evalin">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.hd-r.cn/242f2f2d8520b9f8f8c3369ee8e8ab8b.jpg"><link rel="shortcut icon" href="https://www.iconfinder.com/icons/3792051/cat_halloween_kitty_icon"><link rel="canonical" href="http://example.com/post/9436f855.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MySQL学习day02',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-06-25 11:06:15'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.hd-r.cn/5a6b177ecf0d84eb9957f91a87abb446.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 存档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.hd-r.cn/242f2f2d8520b9f8f8c3369ee8e8ab8b.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="evalin-blog"><span class="site-name">evalin-blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 存档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">MySQL学习day02</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-06-24T01:54:06.000Z" title="Created 2023-06-24 09:54:06">2023-06-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-06-25T03:06:15.197Z" title="Updated 2023-06-25 11:06:15">2023-06-25</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">6.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>27min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="MySQL学习day02"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="MySQL学习-day02"><a href="#MySQL学习-day02" class="headerlink" title="MySQL学习-day02"></a>MySQL学习-day02</h1><h2 id="1、把查询结果去除重复记录【distinct】"><a href="#1、把查询结果去除重复记录【distinct】" class="headerlink" title="1、把查询结果去除重复记录【distinct】"></a>1、把查询结果去除重复记录【distinct】</h2><p><strong>注意：</strong>原表数据不会被修改，只是查询结果去重。<br>去重需要使用一个关键字：<code>distinct</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select distinct job from emp;</span><br><span class="line">+-----------+</span><br><span class="line">| job       |</span><br><span class="line">+-----------+</span><br><span class="line">| CLERK     |</span><br><span class="line">| SALESMAN  |</span><br><span class="line">| MANAGER   |</span><br><span class="line">| ANALYST   |</span><br><span class="line">| PRESIDENT |</span><br><span class="line">+-----------+</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select ename,distinct job from emp;</span><br></pre></td></tr></table></figure>

<p>这样编写是错误的，语法错误：distinct只能出现在所有字段的最前方。</p>
<p>distinct出现在job,deptno两个字段之前，表示两个字段联合起来去重。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select distinct job,deptno from emp;</span><br><span class="line">+-----------+--------+</span><br><span class="line">| job       | deptno |</span><br><span class="line">+-----------+--------+</span><br><span class="line">| CLERK     |     20 |</span><br><span class="line">| SALESMAN  |     30 |</span><br><span class="line">| MANAGER   |     20 |</span><br><span class="line">| MANAGER   |     30 |</span><br><span class="line">| MANAGER   |     10 |</span><br><span class="line">| ANALYST   |     20 |</span><br><span class="line">| PRESIDENT |     10 |</span><br><span class="line">| CLERK     |     30 |</span><br><span class="line">| CLERK     |     10 |</span><br><span class="line">+-----------+--------+</span><br><span class="line"></span><br><span class="line">统计一下工作岗位的数量？</span><br><span class="line">select count(distinct job) from emp;</span><br><span class="line">+---------------------+</span><br><span class="line">| count(distinct job) |</span><br><span class="line">+---------------------+</span><br><span class="line">|                   5 |</span><br><span class="line">+---------------------+</span><br></pre></td></tr></table></figure>

<h2 id="2、连接查询"><a href="#2、连接查询" class="headerlink" title="2、连接查询"></a>2、连接查询</h2><h3 id="2-1-什么是连接查询？"><a href="#2-1-什么是连接查询？" class="headerlink" title="2.1 什么是连接查询？"></a>2.1 什么是连接查询？</h3><p>​	从一张表中单独查询，称为单表查询。<br>​	emp表和dept表联合起来查询数据，从emp表中取员工名字，从dept表中取部门名字。<br>​	这种跨表查询，多张表联合起来查询数据，被称为连接查询。</p>
<h3 id="2-2-连接查询的分类"><a href="#2-2-连接查询的分类" class="headerlink" title="2.2 连接查询的分类"></a>2.2 连接查询的分类</h3><p>根据语法的年代分类：<br>    SQL92：1992年的时候出现的语法<br>    SQL99：1999年的时候出现的语法<br>重点学习SQL99.(这个过程中简单演示一个SQL92的例子)</p>
<p>根据表连接的方式分类：<br>    内连接：<br>        等值连接<br>        非等值连接<br>        自连接</p>
<p>外连接：<br>    左外连接（左连接）<br>    右外连接（右连接）<br>​	全连接</p>
<h3 id="2-3-当两张表进行连接查询时，没有任何条件的限制会发生什么现象？"><a href="#2-3-当两张表进行连接查询时，没有任何条件的限制会发生什么现象？" class="headerlink" title="2.3 当两张表进行连接查询时，没有任何条件的限制会发生什么现象？"></a>2.3 当两张表进行连接查询时，没有任何条件的限制会发生什么现象？</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">案例：查询每个员工所在部门名称？</span><br><span class="line">	mysql&gt; select ename,deptno from emp;</span><br><span class="line">	+--------+--------+</span><br><span class="line">	| ename  | deptno |</span><br><span class="line">	+--------+--------+</span><br><span class="line">	| SMITH  |     20 |</span><br><span class="line">	| ALLEN  |     30 |</span><br><span class="line">	| WARD   |     30 |</span><br><span class="line">	| JONES  |     20 |</span><br><span class="line">	| MARTIN |     30 |</span><br><span class="line">	| BLAKE  |     30 |</span><br><span class="line">	| CLARK  |     10 |</span><br><span class="line">	| SCOTT  |     20 |</span><br><span class="line">	| KING   |     10 |</span><br><span class="line">	| TURNER |     30 |</span><br><span class="line">	| ADAMS  |     20 |</span><br><span class="line">	| JAMES  |     30 |</span><br><span class="line">	| FORD   |     20 |</span><br><span class="line">	| MILLER |     10 |</span><br><span class="line">	+--------+--------+</span><br><span class="line">	mysql&gt; select * from dept;</span><br><span class="line">	+--------+------------+----------+</span><br><span class="line">	| DEPTNO | DNAME      | LOC      |</span><br><span class="line">	+--------+------------+----------+</span><br><span class="line">	|     10 | ACCOUNTING | NEW YORK |</span><br><span class="line">	|     20 | RESEARCH   | DALLAS   |</span><br><span class="line">	|     30 | SALES      | CHICAGO  |</span><br><span class="line">	|     40 | OPERATIONS | BOSTON   |</span><br><span class="line">	+--------+------------+----------+</span><br><span class="line"></span><br><span class="line">	两张表连接没有任何条件限制：</span><br><span class="line">	select ename,dname from emp, dept;</span><br><span class="line">	+--------+------------+</span><br><span class="line">	| ename  | dname      |</span><br><span class="line">	+--------+------------+</span><br><span class="line">	| SMITH  | ACCOUNTING |</span><br><span class="line">	| SMITH  | RESEARCH   |</span><br><span class="line">	| SMITH  | SALES      |</span><br><span class="line">	| SMITH  | OPERATIONS |</span><br><span class="line">	| ALLEN  | ACCOUNTING |</span><br><span class="line">	| ALLEN  | RESEARCH   |</span><br><span class="line">	| ALLEN  | SALES      |</span><br><span class="line">	| ALLEN  | OPERATIONS |</span><br><span class="line">	...</span><br><span class="line">	56 rows in set (0.00 sec)</span><br><span class="line">	14 * 4 = 56</span><br></pre></td></tr></table></figure>

<p>当两张表进行连接查询，没有任何条件限制的时候，最终查询结果条数，是两张表条数的乘积，这种现象被称为：<strong>笛卡尔积现象</strong>。（笛卡尔发现的，这是一个数学现象。）</p>
<h3 id="2-4-怎么避免笛卡尔积现象？"><a href="#2-4-怎么避免笛卡尔积现象？" class="headerlink" title="2.4 怎么避免笛卡尔积现象？"></a>2.4 怎么避免笛卡尔积现象？</h3><p>连接时加条件，满足这个条件的记录被筛选出来</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">select </span><br><span class="line">	ename,dname </span><br><span class="line">from </span><br><span class="line">	emp, dept</span><br><span class="line">where</span><br><span class="line">	emp.deptno = dept.deptno;</span><br><span class="line">	</span><br><span class="line">select </span><br><span class="line">	emp.ename,dept.dname </span><br><span class="line">from </span><br><span class="line">	emp, dept</span><br><span class="line">where</span><br><span class="line">	emp.deptno = dept.deptno;</span><br><span class="line"></span><br><span class="line">// 表起别名。很重要,效率问题。</span><br><span class="line">select </span><br><span class="line">	e.ename,d.dname </span><br><span class="line">from </span><br><span class="line">	emp e, dept d</span><br><span class="line">where</span><br><span class="line">	e.deptno = d.deptno; //SQL92语法。</span><br><span class="line">+--------+------------+</span><br><span class="line">| ename  | dname      |</span><br><span class="line">+--------+------------+</span><br><span class="line">| CLARK  | ACCOUNTING |</span><br><span class="line">| KING   | ACCOUNTING |</span><br><span class="line">| MILLER | ACCOUNTING |</span><br><span class="line">| SMITH  | RESEARCH   |</span><br><span class="line">| JONES  | RESEARCH   |</span><br><span class="line">| SCOTT  | RESEARCH   |</span><br><span class="line">| ADAMS  | RESEARCH   |</span><br><span class="line">| FORD   | RESEARCH   |</span><br><span class="line">| ALLEN  | SALES      |</span><br><span class="line">| WARD   | SALES      |</span><br><span class="line">| MARTIN | SALES      |</span><br><span class="line">| BLAKE  | SALES      |</span><br><span class="line">| TURNER | SALES      |</span><br><span class="line">| JAMES  | SALES      |</span><br><span class="line">+--------+------------+</span><br></pre></td></tr></table></figure>

<p><strong>思考：</strong>最终查询的结果条数是14条，但是匹配的过程中，匹配的次数减少了吗？还是56次，只不过进行了四选一。次数没有减少。</p>
<p><strong>注意</strong>：通过笛卡尔积现象得出，表的连接次数越多效率越低，尽量避免表的连接次数。</p>
<h3 id="2-5-内连接之等值连接。"><a href="#2-5-内连接之等值连接。" class="headerlink" title="2.5 内连接之等值连接。"></a>2.5 内连接之等值连接。</h3><p>案例：查询每个员工所在部门名称，显示员工名和部门名<br>emp e和dept d表进行连接，条件是：e.deptno &#x3D; d.deptno	</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">SQL92语法：</span><br><span class="line">	select </span><br><span class="line">		e.ename,d.dname</span><br><span class="line">	from</span><br><span class="line">		emp e, dept d</span><br><span class="line">	where</span><br><span class="line">		e.deptno = d.deptno;</span><br><span class="line"></span><br><span class="line">SQL99语法：</span><br><span class="line">	select </span><br><span class="line">		e.ename,d.dname</span><br><span class="line">	from</span><br><span class="line">		emp e</span><br><span class="line">	join</span><br><span class="line">		dept d</span><br><span class="line">	on</span><br><span class="line">		e.deptno = d.deptno;</span><br><span class="line">		</span><br><span class="line">//inner可以省略（带着inner可读性更好，一眼就能看出来是内连接）</span><br><span class="line">select </span><br><span class="line">	e.ename,d.dname</span><br><span class="line">from</span><br><span class="line">	emp e</span><br><span class="line">inner join</span><br><span class="line">	dept d</span><br><span class="line">on</span><br><span class="line">	e.deptno = d.deptno; // 条件是等量关系，所以被称为等值连接。</span><br></pre></td></tr></table></figure>

<p>​	sql92的缺点：结构不清晰，表的连接条件，和后期进一步筛选的条件，都放到了where后面。<br>​	sql99优点：表连接的条件是独立的，连接之后，如果还需要进一步筛选，再往后继续添加where</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SQL99语法：</span><br><span class="line">	select </span><br><span class="line">		...</span><br><span class="line">	from</span><br><span class="line">		a</span><br><span class="line">	join</span><br><span class="line">		b</span><br><span class="line">	on</span><br><span class="line">		a和b的连接条件</span><br><span class="line">	where</span><br><span class="line">		筛选条件</span><br></pre></td></tr></table></figure>

<h3 id="2-6-内连接之非等值连接"><a href="#2-6-内连接之非等值连接" class="headerlink" title="2.6 内连接之非等值连接"></a>2.6 内连接之非等值连接</h3><p>案例：找出每个员工的薪资等级，要求显示员工名、薪资、薪资等级</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from emp; </span><br><span class="line">+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class="line">| EMPNO | ENAME  | JOB       | MGR  | HIREDATE   | SAL     | COMM    | DEPTNO |</span><br><span class="line">+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 |  800.00 |    NULL |     20 |</span><br><span class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1600.00 |  300.00 |     30 |</span><br><span class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1250.00 |  500.00 |     30 |</span><br><span class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 2975.00 |    NULL |     20 |</span><br><span class="line">....</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from salgrade; </span><br><span class="line">+-------+-------+-------+</span><br><span class="line">| GRADE | LOSAL | HISAL |</span><br><span class="line">+-------+-------+-------+</span><br><span class="line">|     1 |   700 |  1200 |</span><br><span class="line">|     2 |  1201 |  1400 |</span><br><span class="line">|     3 |  1401 |  2000 |</span><br><span class="line">|     4 |  2001 |  3000 |</span><br><span class="line">|     5 |  3001 |  9999 |</span><br><span class="line">+-------+-------+-------+</span><br><span class="line"></span><br><span class="line">select </span><br><span class="line">	e.ename, e.sal, s.grade</span><br><span class="line">from</span><br><span class="line">	emp e</span><br><span class="line">join</span><br><span class="line">	salgrade s</span><br><span class="line">on</span><br><span class="line">	e.sal between s.losal and s.hisal; // 条件不是一个等量关系，称为非等值连接。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">select </span><br><span class="line">	e.ename, e.sal, s.grade</span><br><span class="line">from</span><br><span class="line">	emp e</span><br><span class="line">inner join</span><br><span class="line">	salgrade s</span><br><span class="line">on</span><br><span class="line">	e.sal between s.losal and s.hisal;</span><br><span class="line"></span><br><span class="line">+--------+---------+-------+</span><br><span class="line">| ename  | sal     | grade |</span><br><span class="line">+--------+---------+-------+</span><br><span class="line">| SMITH  |  800.00 |     1 |</span><br><span class="line">| ALLEN  | 1600.00 |     3 |</span><br><span class="line">| WARD   | 1250.00 |     2 |</span><br><span class="line">| JONES  | 2975.00 |     4 |</span><br><span class="line">| MARTIN | 1250.00 |     2 |</span><br><span class="line">| BLAKE  | 2850.00 |     4 |</span><br><span class="line">| CLARK  | 2450.00 |     4 |</span><br><span class="line">| SCOTT  | 3000.00 |     4 |</span><br><span class="line">| KING   | 5000.00 |     5 |</span><br><span class="line">| TURNER | 1500.00 |     3 |</span><br><span class="line">| ADAMS  | 1100.00 |     1 |</span><br><span class="line">| JAMES  |  950.00 |     1 |</span><br><span class="line">| FORD   | 3000.00 |     4 |</span><br><span class="line">| MILLER | 1300.00 |     2 |</span><br><span class="line">+--------+---------+-------+</span><br></pre></td></tr></table></figure>

<h3 id="2-7-内连接之自连接"><a href="#2-7-内连接之自连接" class="headerlink" title="2.7 内连接之自连接"></a>2.7 内连接之自连接</h3><p>案例：查询员工的上级领导，要求显示员工名和对应的领导名？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select empno,ename,mgr from emp;</span><br><span class="line">+-------+--------+------+</span><br><span class="line">| empno | ename  | mgr  |</span><br><span class="line">+-------+--------+------+</span><br><span class="line">|  7369 | SMITH  | 7902 |</span><br><span class="line">|  7499 | ALLEN  | 7698 |</span><br><span class="line">|  7521 | WARD   | 7698 |</span><br><span class="line">|  7566 | JONES  | 7839 |</span><br><span class="line">|  7654 | MARTIN | 7698 |</span><br><span class="line">|  7698 | BLAKE  | 7839 |</span><br><span class="line">|  7782 | CLARK  | 7839 |</span><br><span class="line">|  7788 | SCOTT  | 7566 |</span><br><span class="line">|  7839 | KING   | NULL |</span><br><span class="line">|  7844 | TURNER | 7698 |</span><br><span class="line">|  7876 | ADAMS  | 7788 |</span><br><span class="line">|  7900 | JAMES  | 7698 |</span><br><span class="line">|  7902 | FORD   | 7566 |</span><br><span class="line">|  7934 | MILLER | 7782 |</span><br><span class="line">+-------+--------+------+</span><br><span class="line"></span><br><span class="line">技巧：一张表看成两张表。</span><br><span class="line">emp a 员工表</span><br><span class="line">+-------+--------+------+</span><br><span class="line">| empno | ename  | mgr  |</span><br><span class="line">+-------+--------+------+</span><br><span class="line">|  7369 | SMITH  | 7902 |</span><br><span class="line">|  7499 | ALLEN  | 7698 |</span><br><span class="line">|  7521 | WARD   | 7698 |</span><br><span class="line">|  7566 | JONES  | 7839 |</span><br><span class="line">|  7654 | MARTIN | 7698 |</span><br><span class="line">|  7698 | BLAKE  | 7839 |</span><br><span class="line">|  7782 | CLARK  | 7839 |</span><br><span class="line">|  7788 | SCOTT  | 7566 |</span><br><span class="line">|  7839 | KING   | NULL |</span><br><span class="line">|  7844 | TURNER | 7698 |</span><br><span class="line">|  7876 | ADAMS  | 7788 |</span><br><span class="line">|  7900 | JAMES  | 7698 |</span><br><span class="line">|  7902 | FORD   | 7566 |</span><br><span class="line">|  7934 | MILLER | 7782 |</span><br><span class="line">+-------+--------+------+</span><br><span class="line"></span><br><span class="line">emp b 领导表</span><br><span class="line">+-------+--------+------+</span><br><span class="line">| empno | ename  | mgr  |</span><br><span class="line">+-------+--------+------+</span><br><span class="line">|  7369 | SMITH  | 7902 |</span><br><span class="line">|  7499 | ALLEN  | 7698 |</span><br><span class="line">|  7521 | WARD   | 7698 |</span><br><span class="line">|  7566 | JONES  | 7839 |</span><br><span class="line">|  7654 | MARTIN | 7698 |</span><br><span class="line">|  7698 | BLAKE  | 7839 |</span><br><span class="line">|  7782 | CLARK  | 7839 |</span><br><span class="line">|  7788 | SCOTT  | 7566 |</span><br><span class="line">|  7839 | KING   | NULL |</span><br><span class="line">|  7844 | TURNER | 7698 |</span><br><span class="line">|  7876 | ADAMS  | 7788 |</span><br><span class="line">|  7900 | JAMES  | 7698 |</span><br><span class="line">|  7902 | FORD   | 7566 |</span><br><span class="line">|  7934 | MILLER | 7782 |</span><br><span class="line">+-------+--------+------+</span><br><span class="line"></span><br><span class="line">select </span><br><span class="line">	a.ename as &#x27;员工名&#x27;, b.ename as &#x27;领导名&#x27;</span><br><span class="line">from</span><br><span class="line">	emp a</span><br><span class="line">join</span><br><span class="line">	emp b</span><br><span class="line">on</span><br><span class="line">	a.mgr = b.empno; //员工的领导编号 = 领导的员工编号</span><br><span class="line"></span><br><span class="line">+--------+--------+</span><br><span class="line">| 员工名 | 领导名|</span><br><span class="line">+--------+--------+</span><br><span class="line">| SMITH  | FORD   |</span><br><span class="line">| ALLEN  | BLAKE  |</span><br><span class="line">| WARD   | BLAKE  |</span><br><span class="line">| JONES  | KING   |</span><br><span class="line">| MARTIN | BLAKE  |</span><br><span class="line">| BLAKE  | KING   |</span><br><span class="line">| CLARK  | KING   |</span><br><span class="line">| SCOTT  | JONES  |</span><br><span class="line">| TURNER | BLAKE  |</span><br><span class="line">| ADAMS  | SCOTT  |</span><br><span class="line">| JAMES  | BLAKE  |</span><br><span class="line">| FORD   | JONES  |</span><br><span class="line">| MILLER | CLARK  |</span><br><span class="line">+--------+--------+</span><br><span class="line">13条记录，没有KING。《内连接》</span><br></pre></td></tr></table></figure>

<p>以上就是内连接中的：自连接，技巧：<strong>一张表看做两张表</strong>。</p>
<h3 id="2-8-外连接"><a href="#2-8-外连接" class="headerlink" title="2.8 外连接"></a>2.8 外连接</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from emp;</span><br><span class="line">+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class="line">| EMPNO | ENAME  | JOB       | MGR  | HIREDATE   | SAL     | COMM    | DEPTNO |</span><br><span class="line">+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 |  800.00 |    NULL |     20 |</span><br><span class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1600.00 |  300.00 |     30 |</span><br><span class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1250.00 |  500.00 |     30 |</span><br><span class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 2975.00 |    NULL |     20 |</span><br><span class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 | 1250.00 | 1400.00 |     30 |</span><br><span class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 | 2850.00 |    NULL |     30 |</span><br><span class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 | 2450.00 |    NULL |     10 |</span><br><span class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1987-04-19 | 3000.00 |    NULL |     20 |</span><br><span class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 | 5000.00 |    NULL |     10 |</span><br><span class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 | 1500.00 |    0.00 |     30 |</span><br><span class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1987-05-23 | 1100.00 |    NULL |     20 |</span><br><span class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 |  950.00 |    NULL |     30 |</span><br><span class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 | 3000.00 |    NULL |     20 |</span><br><span class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 | 1300.00 |    NULL |     10 |</span><br><span class="line">+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from dept;</span><br><span class="line">+--------+------------+----------+</span><br><span class="line">| DEPTNO | DNAME      | LOC      |</span><br><span class="line">+--------+------------+----------+</span><br><span class="line">|     10 | ACCOUNTING | NEW YORK |</span><br><span class="line">|     20 | RESEARCH   | DALLAS   |</span><br><span class="line">|     30 | SALES      | CHICAGO  |</span><br><span class="line">|     40 | OPERATIONS | BOSTON   |</span><br><span class="line">+--------+------------+----------+</span><br></pre></td></tr></table></figure>

<p>内连接：（A和B连接，AB两张表没有主次关系。平等的。）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">select </span><br><span class="line">	e.ename,d.dname</span><br><span class="line">from</span><br><span class="line">	emp e</span><br><span class="line">join</span><br><span class="line">	dept d</span><br><span class="line">on</span><br><span class="line">	e.deptno = d.deptno; //内连接的特点：完成能够匹配上这个条件的数据查询出来。</span><br><span class="line"></span><br><span class="line">+--------+------------+</span><br><span class="line">| ename  | dname      |</span><br><span class="line">+--------+------------+</span><br><span class="line">| CLARK  | ACCOUNTING |</span><br><span class="line">| KING   | ACCOUNTING |</span><br><span class="line">| MILLER | ACCOUNTING |</span><br><span class="line">| SMITH  | RESEARCH   |</span><br><span class="line">| JONES  | RESEARCH   |</span><br><span class="line">| SCOTT  | RESEARCH   |</span><br><span class="line">| ADAMS  | RESEARCH   |</span><br><span class="line">| FORD   | RESEARCH   |</span><br><span class="line">| ALLEN  | SALES      |</span><br><span class="line">| WARD   | SALES      |</span><br><span class="line">| MARTIN | SALES      |</span><br><span class="line">| BLAKE  | SALES      |</span><br><span class="line">| TURNER | SALES      |</span><br><span class="line">| JAMES  | SALES      |</span><br><span class="line">+--------+------------+</span><br></pre></td></tr></table></figure>

<p>外连接（右外连接）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">select </span><br><span class="line">	e.ename,d.dname</span><br><span class="line">from</span><br><span class="line">	emp e </span><br><span class="line">right join </span><br><span class="line">	dept d</span><br><span class="line">on</span><br><span class="line">	e.deptno = d.deptno;</span><br><span class="line"></span><br><span class="line">// outer是可以省略的，带着可读性强。</span><br><span class="line">select </span><br><span class="line">	e.ename,d.dname</span><br><span class="line">from</span><br><span class="line">	emp e </span><br><span class="line">right outer join </span><br><span class="line">	dept d</span><br><span class="line">on</span><br><span class="line">	e.deptno = d.deptno;</span><br></pre></td></tr></table></figure>

<p>right代表什么：表示将join关键字右边的这张表看成主表，主要是为了将这张表的数据全部查询出来，捎带着关联查询左边的表。在外连接当中，两张表连接，产生了主次关系。</p>
<p>外连接（左外连接）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">select </span><br><span class="line">	e.ename,d.dname</span><br><span class="line">from</span><br><span class="line">	dept d </span><br><span class="line">left join </span><br><span class="line">	emp e</span><br><span class="line">on</span><br><span class="line">	e.deptno = d.deptno;</span><br><span class="line"></span><br><span class="line">// outer是可以省略的，带着可读性强。</span><br><span class="line">select </span><br><span class="line">	e.ename,d.dname</span><br><span class="line">from</span><br><span class="line">	dept d </span><br><span class="line">left outer join </span><br><span class="line">	emp e</span><br><span class="line">on</span><br><span class="line">	e.deptno = d.deptno;</span><br><span class="line">+--------+------------+</span><br><span class="line">| ename  | dname      |</span><br><span class="line">+--------+------------+</span><br><span class="line">| CLARK  | ACCOUNTING |</span><br><span class="line">| KING   | ACCOUNTING |</span><br><span class="line">| MILLER | ACCOUNTING |</span><br><span class="line">| SMITH  | RESEARCH   |</span><br><span class="line">| JONES  | RESEARCH   |</span><br><span class="line">| SCOTT  | RESEARCH   |</span><br><span class="line">| ADAMS  | RESEARCH   |</span><br><span class="line">| FORD   | RESEARCH   |</span><br><span class="line">| ALLEN  | SALES      |</span><br><span class="line">| WARD   | SALES      |</span><br><span class="line">| MARTIN | SALES      |</span><br><span class="line">| BLAKE  | SALES      |</span><br><span class="line">| TURNER | SALES      |</span><br><span class="line">| JAMES  | SALES      |</span><br><span class="line">| NULL   | OPERATIONS |</span><br><span class="line">+--------+------------+</span><br></pre></td></tr></table></figure>

<p>带有right的是右外连接，又叫做右连接。<br>带有left的是左外连接，又叫做左连接。<br>任何一个右连接都有左连接的写法。<br>任何一个左连接都有右连接的写法。</p>
<p><strong>注意：</strong>外连接的查询结果条数一定是 &gt;&#x3D; 内连接的查询结果条数</p>
<p>案例：查询每个员工的上级领导，要求显示所有员工的名字和领导名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">select </span><br><span class="line">		a.ename as &#x27;员工名&#x27;, b.ename as &#x27;领导名&#x27;</span><br><span class="line">	from</span><br><span class="line">		emp a</span><br><span class="line">	left join</span><br><span class="line">		emp b</span><br><span class="line">	on</span><br><span class="line">		a.mgr = b.empno; </span><br><span class="line">+--------+--------+</span><br><span class="line">| 员工名      | 领导名     |</span><br><span class="line">+--------+--------+</span><br><span class="line">| SMITH  | FORD   |</span><br><span class="line">| ALLEN  | BLAKE  |</span><br><span class="line">| WARD   | BLAKE  |</span><br><span class="line">| JONES  | KING   |</span><br><span class="line">| MARTIN | BLAKE  |</span><br><span class="line">| BLAKE  | KING   |</span><br><span class="line">| CLARK  | KING   |</span><br><span class="line">| SCOTT  | JONES  |</span><br><span class="line">| KING   | NULL   |</span><br><span class="line">| TURNER | BLAKE  |</span><br><span class="line">| ADAMS  | SCOTT  |</span><br><span class="line">| JAMES  | BLAKE  |</span><br><span class="line">| FORD   | JONES  |</span><br><span class="line">| MILLER | CLARK  |</span><br><span class="line">+--------+--------+</span><br></pre></td></tr></table></figure>

<h3 id="2-9、三张表，四张表怎么连接？"><a href="#2-9、三张表，四张表怎么连接？" class="headerlink" title="2.9、三张表，四张表怎么连接？"></a>2.9、三张表，四张表怎么连接？</h3><p>​	语法：<br>​		select<br>​			…<br>​		from<br>​			a<br>​		join<br>​			b<br>​		on<br>​			a和b的连接条件<br>​		join<br>​			c<br>​		on<br>​			a和c的连接条件<br>​		right join<br>​			d<br>​		on<br>​			a和d的连接条件<br>一条SQL中内连接和外连接可以混合，都可以出现。</p>
<p>案例：找出每个员工的部门名称以及工资等级，要求显示员工名、部门名、薪资、薪资等级</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">select </span><br><span class="line">	e.ename,e.sal,d.dname,s.grade</span><br><span class="line">from</span><br><span class="line">	emp e</span><br><span class="line">join</span><br><span class="line">	dept d</span><br><span class="line">on </span><br><span class="line">	e.deptno = d.deptno</span><br><span class="line">join</span><br><span class="line">	salgrade s</span><br><span class="line">on</span><br><span class="line">	e.sal between s.losal and s.hisal;</span><br><span class="line"></span><br><span class="line">+--------+---------+------------+-------+</span><br><span class="line">| ename  | sal     | dname      | grade |</span><br><span class="line">+--------+---------+------------+-------+</span><br><span class="line">| SMITH  |  800.00 | RESEARCH   |     1 |</span><br><span class="line">| ALLEN  | 1600.00 | SALES      |     3 |</span><br><span class="line">| WARD   | 1250.00 | SALES      |     2 |</span><br><span class="line">| JONES  | 2975.00 | RESEARCH   |     4 |</span><br><span class="line">| MARTIN | 1250.00 | SALES      |     2 |</span><br><span class="line">| BLAKE  | 2850.00 | SALES      |     4 |</span><br><span class="line">| CLARK  | 2450.00 | ACCOUNTING |     4 |</span><br><span class="line">| SCOTT  | 3000.00 | RESEARCH   |     4 |</span><br><span class="line">| KING   | 5000.00 | ACCOUNTING |     5 |</span><br><span class="line">| TURNER | 1500.00 | SALES      |     3 |</span><br><span class="line">| ADAMS  | 1100.00 | RESEARCH   |     1 |</span><br><span class="line">| JAMES  |  950.00 | SALES      |     1 |</span><br><span class="line">| FORD   | 3000.00 | RESEARCH   |     4 |</span><br><span class="line">| MILLER | 1300.00 | ACCOUNTING |     2 |</span><br><span class="line">+--------+---------+------------+-------+</span><br><span class="line"></span><br><span class="line">案例：找出每个员工的部门名称以及工资等级，还有上级领导，要求显示员工名、领导名、部门名、薪资、薪资等级</span><br><span class="line">select </span><br><span class="line">	e.ename,e.sal,d.dname,s.grade,l.ename</span><br><span class="line">from</span><br><span class="line">	emp e</span><br><span class="line">join</span><br><span class="line">	dept d</span><br><span class="line">on </span><br><span class="line">	e.deptno = d.deptno</span><br><span class="line">join</span><br><span class="line">	salgrade s</span><br><span class="line">on</span><br><span class="line">	e.sal between s.losal and s.hisal</span><br><span class="line">left join</span><br><span class="line">	emp l</span><br><span class="line">on</span><br><span class="line">	e.mgr = l.empno;</span><br><span class="line"></span><br><span class="line">+--------+---------+------------+-------+-------+</span><br><span class="line">| ename  | sal     | dname      | grade | ename |</span><br><span class="line">+--------+---------+------------+-------+-------+</span><br><span class="line">| SMITH  |  800.00 | RESEARCH   |     1 | FORD  |</span><br><span class="line">| ALLEN  | 1600.00 | SALES      |     3 | BLAKE |</span><br><span class="line">| WARD   | 1250.00 | SALES      |     2 | BLAKE |</span><br><span class="line">| JONES  | 2975.00 | RESEARCH   |     4 | KING  |</span><br><span class="line">| MARTIN | 1250.00 | SALES      |     2 | BLAKE |</span><br><span class="line">| BLAKE  | 2850.00 | SALES      |     4 | KING  |</span><br><span class="line">| CLARK  | 2450.00 | ACCOUNTING |     4 | KING  |</span><br><span class="line">| SCOTT  | 3000.00 | RESEARCH   |     4 | JONES |</span><br><span class="line">| KING   | 5000.00 | ACCOUNTING |     5 | NULL  |</span><br><span class="line">| TURNER | 1500.00 | SALES      |     3 | BLAKE |</span><br><span class="line">| ADAMS  | 1100.00 | RESEARCH   |     1 | SCOTT |</span><br><span class="line">| JAMES  |  950.00 | SALES      |     1 | BLAKE |</span><br><span class="line">| FORD   | 3000.00 | RESEARCH   |     4 | JONES |</span><br><span class="line">| MILLER | 1300.00 | ACCOUNTING |     2 | CLARK |</span><br><span class="line">+--------+---------+------------+-------+-------+</span><br></pre></td></tr></table></figure>

<h2 id="3、子查询"><a href="#3、子查询" class="headerlink" title="3、子查询"></a>3、子查询</h2><h3 id="3-1、什么是子查询？"><a href="#3-1、什么是子查询？" class="headerlink" title="3.1、什么是子查询？"></a>3.1、什么是子查询？</h3><p>​	select语句中嵌套select语句，被嵌套的select语句称为子查询。</p>
<h3 id="3-2、子查询都可以出现在哪里"><a href="#3-2、子查询都可以出现在哪里" class="headerlink" title="3.2、子查询都可以出现在哪里"></a>3.2、子查询都可以出现在哪里</h3><p>​	select<br>​		..(select).<br>​	from<br>​		..(select).<br>​	where<br>​		..(select).</p>
<h3 id="3-3、where子句中的子查询"><a href="#3-3、where子句中的子查询" class="headerlink" title="3.3、where子句中的子查询"></a>3.3、where子句中的子查询</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">案例：找出比最低工资高的员工姓名和工资？</span><br><span class="line">	select </span><br><span class="line">		ename,sal</span><br><span class="line">	from</span><br><span class="line">		emp </span><br><span class="line">	where</span><br><span class="line">		sal &gt; min(sal);</span><br><span class="line"></span><br><span class="line">	ERROR 1111 (HY000): Invalid use of group function</span><br><span class="line">	where子句中不能直接使用分组函数。</span><br><span class="line"></span><br><span class="line">实现思路：</span><br><span class="line">	第一步：查询最低工资是多少</span><br><span class="line">		select min(sal) from emp;</span><br><span class="line">		+----------+</span><br><span class="line">		| min(sal) |</span><br><span class="line">		+----------+</span><br><span class="line">		|   800.00 |</span><br><span class="line">		+----------+</span><br><span class="line">	第二步：找出&gt;800的</span><br><span class="line">		select ename,sal from emp where sal &gt; 800;</span><br><span class="line">	</span><br><span class="line">	第三步：合并</span><br><span class="line">		select ename,sal from emp where sal &gt; (select min(sal) from emp);</span><br><span class="line">		+--------+---------+</span><br><span class="line">		| ename  | sal     |</span><br><span class="line">		+--------+---------+</span><br><span class="line">		| ALLEN  | 1600.00 |</span><br><span class="line">		| WARD   | 1250.00 |</span><br><span class="line">		| JONES  | 2975.00 |</span><br><span class="line">		| MARTIN | 1250.00 |</span><br><span class="line">		| BLAKE  | 2850.00 |</span><br><span class="line">		| CLARK  | 2450.00 |</span><br><span class="line">		| SCOTT  | 3000.00 |</span><br><span class="line">		| KING   | 5000.00 |</span><br><span class="line">		| TURNER | 1500.00 |</span><br><span class="line">		| ADAMS  | 1100.00 |</span><br><span class="line">		| JAMES  |  950.00 |</span><br><span class="line">		| FORD   | 3000.00 |</span><br><span class="line">		| MILLER | 1300.00 |</span><br><span class="line">		+--------+---------+</span><br></pre></td></tr></table></figure>

<h3 id="3-4、from子句中的子查询"><a href="#3-4、from子句中的子查询" class="headerlink" title="3.4、from子句中的子查询"></a>3.4、from子句中的子查询</h3><p>注意：from后面的子查询，可以将子查询的查询结果当做一张临时表。（技巧）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">案例：找出每个岗位的平均工资的薪资等级。</span><br><span class="line"></span><br><span class="line">第一步：找出每个岗位的平均工资（按照岗位分组求平均值）</span><br><span class="line">	select job,avg(sal) from emp group by job;</span><br><span class="line">	+-----------+-------------+</span><br><span class="line">	| job       | avgsal      |</span><br><span class="line">	+-----------+-------------+</span><br><span class="line">	| ANALYST   | 3000.000000 |</span><br><span class="line">	| CLERK     | 1037.500000 |</span><br><span class="line">	| MANAGER   | 2758.333333 |</span><br><span class="line">	| PRESIDENT | 5000.000000 |</span><br><span class="line">	| SALESMAN  | 1400.000000 |</span><br><span class="line">	+-----------+-------------+t表</span><br><span class="line"></span><br><span class="line">第二步：克服心理障碍，把以上的查询结果就当做一张真实存在的表t。</span><br><span class="line">mysql&gt; select * from salgrade; s表</span><br><span class="line">+-------+-------+-------+</span><br><span class="line">| GRADE | LOSAL | HISAL |</span><br><span class="line">+-------+-------+-------+</span><br><span class="line">|     1 |   700 |  1200 |</span><br><span class="line">|     2 |  1201 |  1400 |</span><br><span class="line">|     3 |  1401 |  2000 |</span><br><span class="line">|     4 |  2001 |  3000 |</span><br><span class="line">|     5 |  3001 |  9999 |</span><br><span class="line">+-------+-------+-------+</span><br><span class="line">t表和s表进行表连接，条件：t表avg(sal) between s.losal and s.hisal;</span><br><span class="line">	</span><br><span class="line">	select </span><br><span class="line">		t.*, s.grade</span><br><span class="line">	from</span><br><span class="line">		(select job,avg(sal) as avgsal from emp group by job) t</span><br><span class="line">	join</span><br><span class="line">		salgrade s</span><br><span class="line">	on</span><br><span class="line">		t.avgsal between s.losal and s.hisal;</span><br><span class="line">	</span><br><span class="line">	+-----------+-------------+-------+</span><br><span class="line">	| job       | avgsal      | grade |</span><br><span class="line">	+-----------+-------------+-------+</span><br><span class="line">	| CLERK     | 1037.500000 |     1 |</span><br><span class="line">	| SALESMAN  | 1400.000000 |     2 |</span><br><span class="line">	| ANALYST   | 3000.000000 |     4 |</span><br><span class="line">	| MANAGER   | 2758.333333 |     4 |</span><br><span class="line">	| PRESIDENT | 5000.000000 |     5 |</span><br><span class="line">	+-----------+-------------+-------+</span><br></pre></td></tr></table></figure>

<h3 id="3-5、select后面出现的子查询（这个内容不需要掌握，了解即可）"><a href="#3-5、select后面出现的子查询（这个内容不需要掌握，了解即可）" class="headerlink" title="3.5、select后面出现的子查询（这个内容不需要掌握，了解即可）"></a>3.5、select后面出现的子查询（这个内容不需要掌握，了解即可）</h3><p>案例：找出每个员工的部门名称，要求显示员工名，部门名？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">	select </span><br><span class="line">		e.ename,e.deptno,(select d.dname from dept d where e.deptno = d.deptno) as dname </span><br><span class="line">	from </span><br><span class="line">		emp e;</span><br><span class="line">+--------+--------+------------+</span><br><span class="line">| ename  | deptno | dname      |</span><br><span class="line">+--------+--------+------------+</span><br><span class="line">| SMITH  |     20 | RESEARCH   |</span><br><span class="line">| ALLEN  |     30 | SALES      |</span><br><span class="line">| WARD   |     30 | SALES      |</span><br><span class="line">| JONES  |     20 | RESEARCH   |</span><br><span class="line">| MARTIN |     30 | SALES      |</span><br><span class="line">| BLAKE  |     30 | SALES      |</span><br><span class="line">| CLARK  |     10 | ACCOUNTING |</span><br><span class="line">| SCOTT  |     20 | RESEARCH   |</span><br><span class="line">| KING   |     10 | ACCOUNTING |</span><br><span class="line">| TURNER |     30 | SALES      |</span><br><span class="line">| ADAMS  |     20 | RESEARCH   |</span><br><span class="line">| JAMES  |     30 | SALES      |</span><br><span class="line">| FORD   |     20 | RESEARCH   |</span><br><span class="line">| MILLER |     10 | ACCOUNTING |</span><br><span class="line">+--------+--------+------------+</span><br><span class="line"></span><br><span class="line">//错误：ERROR 1242 (21000): Subquery returns more than 1 row</span><br><span class="line">select </span><br><span class="line">	e.ename,e.deptno,(select dname from dept) as dname</span><br><span class="line">from</span><br><span class="line">	emp e;</span><br><span class="line"></span><br><span class="line">注意：对于select后面的子查询来说，这个子查询只能一次返回1条结果，</span><br><span class="line">多于1条，就报错了。！</span><br></pre></td></tr></table></figure>

<h2 id="4、union合并查询结果集"><a href="#4、union合并查询结果集" class="headerlink" title="4、union合并查询结果集"></a>4、union合并查询结果集</h2><p>案例：查询工作岗位是MANAGER和SALESMAN的员工</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">	select ename,job from emp where job = &#x27;MANAGER&#x27; or job = &#x27;SALESMAN&#x27;;</span><br><span class="line">	select ename,job from emp where job in(&#x27;MANAGER&#x27;,&#x27;SALESMAN&#x27;);</span><br><span class="line">	+--------+----------+</span><br><span class="line">	| ename  | job      |</span><br><span class="line">	+--------+----------+</span><br><span class="line">	| ALLEN  | SALESMAN |</span><br><span class="line">	| WARD   | SALESMAN |</span><br><span class="line">	| JONES  | MANAGER  |</span><br><span class="line">	| MARTIN | SALESMAN |</span><br><span class="line">	| BLAKE  | MANAGER  |</span><br><span class="line">	| CLARK  | MANAGER  |</span><br><span class="line">	| TURNER | SALESMAN |</span><br><span class="line">	+--------+----------+</span><br><span class="line">select ename,job from emp where job = &#x27;MANAGER&#x27;</span><br><span class="line">union</span><br><span class="line">select ename,job from emp where job = &#x27;SALESMAN&#x27;;</span><br><span class="line"></span><br><span class="line">+--------+----------+</span><br><span class="line">| ename  | job      |</span><br><span class="line">+--------+----------+</span><br><span class="line">| JONES  | MANAGER  |</span><br><span class="line">| BLAKE  | MANAGER  |</span><br><span class="line">| CLARK  | MANAGER  |</span><br><span class="line">| ALLEN  | SALESMAN |</span><br><span class="line">| WARD   | SALESMAN |</span><br><span class="line">| MARTIN | SALESMAN |</span><br><span class="line">| TURNER | SALESMAN |</span><br><span class="line">+--------+----------+</span><br></pre></td></tr></table></figure>

<p>union的效率要高一些。对于表连接来说，每连接一次新表，则匹配的次数满足笛卡尔积，成倍的翻<br>但是union可以减少匹配的次数。在减少匹配次数的情况下，还可以完成两个结果集的拼接。</p>
<p>a 连接 b 连接 c<br>a 10条记录<br>b 10条记录<br>c 10条记录<br>匹配次数是：1000</p>
<p>a 连接 b一个结果：10 * 10 –&gt; 100次<br>a 连接 c一个结果：10 * 10 –&gt; 100次<br>使用union的话是：100次 + 100次 &#x3D; 200次。（union把乘法变成了加法运算）</p>
<p>union在使用的时候有注意事项吗？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//错误的：union在进行结果集合并的时候，要求两个结果集的列数相同。</span><br><span class="line">select ename,job from emp where job = &#x27;MANAGER&#x27;</span><br><span class="line">union</span><br><span class="line">select ename from emp where job = &#x27;SALESMAN&#x27;;</span><br><span class="line"></span><br><span class="line">// MYSQL可以，oracle语法严格 ，不可以，报错。要求：结果集合并时列和列的数据类型也要一致。</span><br><span class="line">select ename,job from emp where job = &#x27;MANAGER&#x27;</span><br><span class="line">union</span><br><span class="line">select ename,sal from emp where job = &#x27;SALESMAN&#x27;;</span><br><span class="line">+--------+---------+</span><br><span class="line">| ename  | job     |</span><br><span class="line">+--------+---------+</span><br><span class="line">| JONES  | MANAGER |</span><br><span class="line">| BLAKE  | MANAGER |</span><br><span class="line">| CLARK  | MANAGER |</span><br><span class="line">| ALLEN  | 1600    |</span><br><span class="line">| WARD   | 1250    |</span><br><span class="line">| MARTIN | 1250    |</span><br><span class="line">| TURNER | 1500    |</span><br><span class="line">+--------+---------+</span><br></pre></td></tr></table></figure>

<h2 id="5、limit（非常重要）"><a href="#5、limit（非常重要）" class="headerlink" title="5、limit（非常重要）"></a>5、limit（非常重要）</h2><h3 id="5-1、limit作用"><a href="#5-1、limit作用" class="headerlink" title="5.1、limit作用"></a>5.1、limit作用</h3><p>将查询结果集的一部分取出来。通常使用在分页查询当中。</p>
<p>百度默认：一页显示10条记录。<br>分页的作用是为了提高用户的体验，因为一次全部都查出来，用户体验差。<br>可以一页一页翻页看。</p>
<h3 id="5-2、limit怎么用"><a href="#5-2、limit怎么用" class="headerlink" title="5.2、limit怎么用"></a>5.2、limit怎么用</h3><p>完整用法：limit startIndex, length<br>    startIndex是起始下标，length是长度。<br>    起始下标从0开始。</p>
<p>缺省用法：limit 5; 这是取前5.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">按照薪资降序，取出排名在前5名的员工？</span><br><span class="line">select </span><br><span class="line">	ename,sal</span><br><span class="line">from</span><br><span class="line">	emp</span><br><span class="line">order by </span><br><span class="line">	sal desc</span><br><span class="line">limit 5; //取前5</span><br><span class="line"></span><br><span class="line">select </span><br><span class="line">	ename,sal</span><br><span class="line">from</span><br><span class="line">	emp</span><br><span class="line">order by </span><br><span class="line">	sal desc</span><br><span class="line">limit 0,5;</span><br><span class="line"></span><br><span class="line">+-------+---------+</span><br><span class="line">| ename | sal     |</span><br><span class="line">+-------+---------+</span><br><span class="line">| KING  | 5000.00 |</span><br><span class="line">| SCOTT | 3000.00 |</span><br><span class="line">| FORD  | 3000.00 |</span><br><span class="line">| JONES | 2975.00 |</span><br><span class="line">| BLAKE | 2850.00 |</span><br><span class="line">+-------+---------+</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong>mysql当中limit在order by之后执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">取出工资排名在[3-5]名的员工</span><br><span class="line">	select </span><br><span class="line">		ename,sal</span><br><span class="line">	from</span><br><span class="line">		emp</span><br><span class="line">	order by</span><br><span class="line">		sal desc</span><br><span class="line">	limit</span><br><span class="line">		2, 3;</span><br><span class="line">2表示起始位置从下标2开始，就是第三条记录。</span><br><span class="line">3表示长度。</span><br><span class="line"></span><br><span class="line">+-------+---------+</span><br><span class="line">| ename | sal     |</span><br><span class="line">+-------+---------+</span><br><span class="line">| FORD  | 3000.00 |</span><br><span class="line">| JONES | 2975.00 |</span><br><span class="line">| BLAKE | 2850.00 |</span><br><span class="line">+-------+---------+</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">取出工资排名在[5-9]名的员工</span><br><span class="line">	select </span><br><span class="line">		ename,sal</span><br><span class="line">	from</span><br><span class="line">		emp</span><br><span class="line">	order by </span><br><span class="line">		sal desc</span><br><span class="line">	limit</span><br><span class="line">		4, 5;</span><br><span class="line">+--------+---------+</span><br><span class="line">| ename  | sal     |</span><br><span class="line">+--------+---------+</span><br><span class="line">| BLAKE  | 2850.00 |</span><br><span class="line">| CLARK  | 2450.00 |</span><br><span class="line">| ALLEN  | 1600.00 |</span><br><span class="line">| TURNER | 1500.00 |</span><br><span class="line">| MILLER | 1300.00 |</span><br><span class="line">+--------+---------+</span><br></pre></td></tr></table></figure>

<h3 id="5-3、分页"><a href="#5-3、分页" class="headerlink" title="5.3、分页"></a>5.3、分页</h3><p>每页显示3条记录<br>    第1页：limit 0,3		[0 1 2]<br>    第2页：limit 3,3		[3 4 5]<br>    第3页：limit 6,3		[6 7 8]<br>    第4页：limit 9,3		[9 10 11]</p>
<p>每页显示pageSize条记录<br>    第pageNo页：limit (pageNo - 1) * pageSize  , pageSize</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">	<span class="comment">// 用户提交过来一个页码，以及每页显示的记录条数</span></span><br><span class="line">	<span class="type">int</span> <span class="variable">pageNo</span> <span class="operator">=</span> <span class="number">5</span>; <span class="comment">//第5页</span></span><br><span class="line">	<span class="type">int</span> <span class="variable">pageSize</span> <span class="operator">=</span> <span class="number">10</span>; <span class="comment">//每页显示10条</span></span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> <span class="variable">startIndex</span> <span class="operator">=</span> (pageNo - <span class="number">1</span>) * pageSize;</span><br><span class="line">	<span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select ...limit &quot;</span> + startIndex + <span class="string">&quot;, &quot;</span> + pageSize;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>记公式：<br>    limit (pageNo-1)*pageSize , pageSize</p>
<h2 id="6、关于DQL语句的大总结："><a href="#6、关于DQL语句的大总结：" class="headerlink" title="6、关于DQL语句的大总结："></a>6、关于DQL语句的大总结：</h2><p>​	select<br>​		…<br>​	from<br>​		…<br>​	where<br>​		…<br>​	group by<br>​		…<br>​	having<br>​		…<br>​	order by<br>​		…<br>​	limit<br>​		…</p>
<p>执行顺序？<br>    1.from<br>    2.where<br>    3.group by<br>    4.having<br>    5.select<br>    6.order by<br>    7.limit..</p>
<h2 id="7、表的创建（建表）"><a href="#7、表的创建（建表）" class="headerlink" title="7、表的创建（建表）"></a>7、表的创建（建表）</h2><h3 id="7-1、建表的语法格式："><a href="#7-1、建表的语法格式：" class="headerlink" title="7.1、建表的语法格式："></a>7.1、建表的语法格式：</h3><p>建表属于DDL语句，DDL包括：create drop alter</p>
<p>create table 表名(字段名1 数据类型, 字段名2 数据类型, 字段名3 数据类型);</p>
<p>create table 表名(<br>    字段名1 数据类型,<br>    字段名2 数据类型,<br>    字段名3 数据类型<br>);</p>
<p>表名：建议以t_ 或者 tbl_开始，可读性强。见名知意。<br>字段名：见名知意。<br>表名和字段名都属于标识符。</p>
<h3 id="7-2、关于mysql中的数据类型"><a href="#7-2、关于mysql中的数据类型" class="headerlink" title="7.2、关于mysql中的数据类型"></a>7.2、关于mysql中的数据类型</h3><p>很多数据类型，我们只需要掌握一些常见的数据类型即可。</p>
<p>varchar(最长255)<br>    可变长度的字符串<br>    比较智能，节省空间。<br>    会根据实际的数据长度动态分配空间。</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">优点：节省空间</span><br><span class="line">缺点：需要动态分配空间，速度慢。</span><br></pre></td></tr></table></figure>

<p>char(最长255)<br>    定长字符串<br>    不管实际的数据长度是多少。<br>    分配固定长度的空间去存储数据。<br>    使用不恰当的时候，可能会导致空间的浪费。</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">优点：不需要动态分配空间，速度快。</span><br><span class="line">缺点：使用不当可能会导致空间的浪费。</span><br><span class="line"></span><br><span class="line">varchar和char我们应该怎么选择？</span><br><span class="line"><span class="code">	性别字段你选什么？因为性别是固定长度的字符串，所以选择char。</span></span><br><span class="line"><span class="code">	姓名字段你选什么？每一个人的名字长度不同，所以选择varchar。</span></span><br></pre></td></tr></table></figure>

<p>int(最长11)<br>    数字中的整数型。等同于java的int。</p>
<p>bigint<br>    数字中的长整型。等同于java中的long。</p>
<p>float	<br>    单精度浮点型数据</p>
<p>double<br>    双精度浮点型数据</p>
<p>date<br>    短日期类型</p>
<p>datetime<br>    长日期类型</p>
<p>clob<br>    字符大对象<br>    最多可以存储4G的字符串。<br>    比如：存储一篇文章，存储一个说明。<br>    超过255个字符的都要采用CLOB字符大对象来存储。<br>    Character Large OBject:CLOB</p>
<p>blob</p>
<p>​		二进制大对象<br>​		Binary Large OBject<br>​		专门用来存储图片、声音、视频等流媒体数据。<br>​		往BLOB类型的字段上插入数据的时候，例如插入一个图片、视频等，<br>​		你需要使用IO流才行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">t_movie 电影表（专门存储电影信息的）</span><br><span class="line"></span><br><span class="line">编号			名字				故事情节					上映日期				时长				海报					类型</span><br><span class="line">no(bigint)	name(varchar)	history(clob)		playtime(date)		time(double)	image(blob)			type(char)</span><br><span class="line">------------------------------------------------------------------------------------------------------------------</span><br><span class="line">10000			哪吒				...........			2019-10-11			2.5				....					&#x27;1&#x27;</span><br><span class="line">10001			林正英之娘娘   ...........			2019-11-11			1.5				....					&#x27;2&#x27;</span><br><span class="line">....</span><br></pre></td></tr></table></figure>

<h3 id="7-3、创建一个学生表"><a href="#7-3、创建一个学生表" class="headerlink" title="7.3、创建一个学生表"></a>7.3、创建一个学生表</h3><p>​	学号、姓名、年龄、性别、邮箱地址<br>​	create table t_student(<br>​		no int,<br>​		name varchar(32),<br>​		sex char(1),<br>​		age int(3),<br>​		email varchar(255)<br>​	);</p>
<p>删除表：<br>    drop table t_student; &#x2F;&#x2F; 当这张表不存在的时候会报错！</p>
<p>​	drop table if exists t_student;&#x2F;&#x2F; 如果这张表存在的话，删除</p>
<h3 id="7-4、插入数据insert-（DML）"><a href="#7-4、插入数据insert-（DML）" class="headerlink" title="7.4、插入数据insert （DML）"></a>7.4、插入数据insert （DML）</h3><p>语法格式：insert into 表名(字段名1,字段名2,字段名3…) values(值1,值2,值3);<br>注意：字段名和值要一一对应：数量要对应，数据类型要对应</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">insert into t_student(no,name,sex,age,email) values(1,&#x27;zhangsan&#x27;,&#x27;m&#x27;,20,&#x27;zhangsan@123.com&#x27;);</span><br><span class="line">insert into t_student(email,name,sex,age,no) values(&#x27;lisi@123.com&#x27;,&#x27;lisi&#x27;,&#x27;f&#x27;,20,2);</span><br><span class="line">	</span><br><span class="line">insert into t_student(no) values(3);</span><br><span class="line"></span><br><span class="line">+------+----------+------+------+------------------+</span><br><span class="line">| no   | name     | sex  | age  | email            |</span><br><span class="line">+------+----------+------+------+------------------+</span><br><span class="line">|    1 | zhangsan | m    |   20 | zhangsan@123.com |</span><br><span class="line">|    2 | lisi     | f    |   20 | lisi@123.com     |</span><br><span class="line">|    3 | NULL     | NULL | NULL | NULL             |</span><br><span class="line">+------+----------+------+------+------------------+</span><br><span class="line">insert into t_student(name) values(&#x27;wangwu&#x27;);</span><br><span class="line">+------+----------+------+------+------------------+</span><br><span class="line">| no   | name     | sex  | age  | email            |</span><br><span class="line">+------+----------+------+------+------------------+</span><br><span class="line">|    1 | zhangsan | m    |   20 | zhangsan@123.com |</span><br><span class="line">|    2 | lisi     | f    |   20 | lisi@123.com     |</span><br><span class="line">|    3 | NULL     | NULL | NULL | NULL             |</span><br><span class="line">| NULL | wangwu   | NULL | NULL | NULL             |</span><br><span class="line">+------+----------+------+------+------------------+</span><br><span class="line">注意：insert语句但凡是执行成功了，那么必然会多一条记录。</span><br><span class="line">没有给其它字段指定值的话，默认值是NULL。</span><br><span class="line"></span><br><span class="line">drop table if exists t_student;</span><br><span class="line">create table t_student(</span><br><span class="line">	no int,</span><br><span class="line">	name varchar(32),</span><br><span class="line">	sex char(1) default &#x27;m&#x27;,</span><br><span class="line">	age int(3),</span><br><span class="line">	email varchar(255)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">+-------+--------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type         | Null | Key | Default | Extra |</span><br><span class="line">+-------+--------------+------+-----+---------+-------+</span><br><span class="line">| no    | int(11)      | YES  |     | NULL    |       |</span><br><span class="line">| name  | varchar(32)  | YES  |     | NULL    |       |</span><br><span class="line">| sex   | char(1)      | YES  |     | m       |       |</span><br><span class="line">| age   | int(3)       | YES  |     | NULL    |       |</span><br><span class="line">| email | varchar(255) | YES  |     | NULL    |       |</span><br><span class="line">+-------+--------------+------+-----+---------+-------+</span><br><span class="line">insert into t_student(no) values(1);</span><br><span class="line">mysql&gt; select * from t_student;</span><br><span class="line">+------+------+------+------+-------+</span><br><span class="line">| no   | name | sex  | age  | email |</span><br><span class="line">+------+------+------+------+-------+</span><br><span class="line">|    1 | NULL | m    | NULL | NULL  |</span><br><span class="line">+------+------+------+------+-------+</span><br><span class="line"></span><br><span class="line">insert语句中的“字段名”可以省略吗？可以</span><br><span class="line">	insert into t_student values(2); //错误的</span><br><span class="line"></span><br><span class="line">	// 注意：前面的字段名省略的话，等于都写上了！所以值也要都写上！</span><br><span class="line">	insert into t_student values(2, &#x27;lisi&#x27;, &#x27;f&#x27;, 20, &#x27;lisi@123.com&#x27;);</span><br><span class="line">	+------+------+------+------+--------------+</span><br><span class="line">	| no   | name | sex  | age  | email        |</span><br><span class="line">	+------+------+------+------+--------------+</span><br><span class="line">	|    1 | NULL | m    | NULL | NULL         |</span><br><span class="line">	|    2 | lisi | f    |   20 | lisi@123.com |</span><br><span class="line">	+------+------+------+------+--------------+</span><br></pre></td></tr></table></figure>

<h3 id="7-5、insert插入日期"><a href="#7-5、insert插入日期" class="headerlink" title="7.5、insert插入日期"></a>7.5、insert插入日期</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">数字格式化：format</span><br><span class="line">	select ename,sal from emp;</span><br><span class="line">	+--------+---------+</span><br><span class="line">	| ename  | sal     |</span><br><span class="line">	+--------+---------+</span><br><span class="line">	| SMITH  |  800.00 |</span><br><span class="line">	| ALLEN  | 1600.00 |</span><br><span class="line">	| WARD   | 1250.00 |</span><br><span class="line">	| JONES  | 2975.00 |</span><br><span class="line">	| MARTIN | 1250.00 |</span><br><span class="line">	| BLAKE  | 2850.00 |</span><br><span class="line">	| CLARK  | 2450.00 |</span><br><span class="line">	| SCOTT  | 3000.00 |</span><br><span class="line">	| KING   | 5000.00 |</span><br><span class="line">	| TURNER | 1500.00 |</span><br><span class="line">	| ADAMS  | 1100.00 |</span><br><span class="line">	| JAMES  |  950.00 |</span><br><span class="line">	| FORD   | 3000.00 |</span><br><span class="line">	| MILLER | 1300.00 |</span><br><span class="line">	+--------+---------+</span><br><span class="line"></span><br><span class="line">	格式化数字：format(数字, &#x27;格式&#x27;)</span><br><span class="line">		select ename,format(sal, &#x27;$999,999&#x27;) as sal from emp;</span><br><span class="line">		+--------+-------+</span><br><span class="line">		| ename  | sal   |</span><br><span class="line">		+--------+-------+</span><br><span class="line">		| SMITH  | 800   |</span><br><span class="line">		| ALLEN  | 1,600 |</span><br><span class="line">		| WARD   | 1,250 |</span><br><span class="line">		| JONES  | 2,975 |</span><br><span class="line">		| MARTIN | 1,250 |</span><br><span class="line">		| BLAKE  | 2,850 |</span><br><span class="line">		| CLARK  | 2,450 |</span><br><span class="line">		| SCOTT  | 3,000 |</span><br><span class="line">		| KING   | 5,000 |</span><br><span class="line">		| TURNER | 1,500 |</span><br><span class="line">		| ADAMS  | 1,100 |</span><br><span class="line">		| JAMES  | 950   |</span><br><span class="line">		| FORD   | 3,000 |</span><br><span class="line">		| MILLER | 1,300 |</span><br><span class="line">		+--------+-------+</span><br><span class="line"></span><br><span class="line">str_to_date：将字符串varchar类型转换成date类型</span><br><span class="line">date_format：将date类型转换成具有一定格式的varchar字符串类型。</span><br><span class="line"></span><br><span class="line">drop table if exists t_user;</span><br><span class="line">create table t_user(</span><br><span class="line">	id int,</span><br><span class="line">	name varchar(32),</span><br><span class="line">	birth date // 生日也可以使用date日期类型</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">create table t_user(</span><br><span class="line">	id int,</span><br><span class="line">	name varchar(32),</span><br><span class="line">	birth char(10) // 生日可以使用字符串，没问题。</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">生日：1990-10-11 （10个字符）</span><br><span class="line"></span><br><span class="line">注意：数据库中的有一条命名规范：</span><br><span class="line">	所有的标识符都是全部小写，单词和单词之间使用下划线进行衔接。</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t_user;</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type        | Null | Key | Default | Extra |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| id    | int(11)     | YES  |     | NULL    |       |</span><br><span class="line">| name  | varchar(32) | YES  |     | NULL    |       |</span><br><span class="line">| birth | date        | YES  |     | NULL    |       |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br></pre></td></tr></table></figure>

<p>插入数据？<br>    insert into t_user(id,name,birth) values(1, ‘zhangsan’, ‘01-10-1990’); &#x2F;&#x2F; 1990年10月1日<br>    出问题了：原因是类型不匹配。数据库birth是date类型，这里给了一个字符串varchar。</p>
<p>怎么办？可以使用str_to_date函数进行类型转换。<br>str_to_date函数可以将字符串转换成日期类型date？<br>语法格式：<br>    str_to_date(‘字符串日期’, ‘日期格式’)</p>
<p>mysql的日期格式：<br>    %Y	年<br>    %m 月<br>    %d 日<br>    %h	时<br>    %i	分<br>    %s	秒</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into t_user(id,name,birth) values(1, &#x27;zhangsan&#x27;, str_to_date(&#x27;01-10-1990&#x27;,&#x27;%d-%m-%Y&#x27;));</span><br></pre></td></tr></table></figure>

<p>str_to_date函数可以把字符串varchar转换成日期date类型数据，<br>通常使用在插入insert方面，因为插入的时候需要一个日期类型的数据，<br>需要通过该函数将字符串转换成date。</p>
<p>好消息？<br>    如果你提供的日期字符串是这个格式，str_to_date函数就不需要了<br>        %Y-%m-%d</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into t_user(id,name,birth) values(2, &#x27;lisi&#x27;, &#x27;1990-10-01&#x27;);</span><br></pre></td></tr></table></figure>

<p>查询的时候可以以某个特定的日期格式展示吗？<br>    date_format<br>    这个函数可以将日期类型转换成特定格式的字符串。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">select id,name,date_format(birth, &#x27;%m/%d/%Y&#x27;) as birth from t_user;</span><br><span class="line">+------+----------+------------+</span><br><span class="line">| id   | name     | birth      |</span><br><span class="line">+------+----------+------------+</span><br><span class="line">|    1 | zhangsan | 10/01/1990 |</span><br><span class="line">|    2 | lisi     | 10/01/1990 |</span><br><span class="line">+------+----------+------------+</span><br></pre></td></tr></table></figure>

<p>date_format函数怎么用？<br>    date_format(日期类型数据, ‘日期格式’)<br>    这个函数通常使用在查询日期方面。设置展示的日期格式。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select id,name,birth from t_user;</span><br><span class="line">+------+----------+------------+</span><br><span class="line">| id   | name     | birth      |</span><br><span class="line">+------+----------+------------+</span><br><span class="line">|    1 | zhangsan | 1990-10-01 |</span><br><span class="line">|    2 | lisi     | 1990-10-01 |</span><br><span class="line">+------+----------+------------+</span><br></pre></td></tr></table></figure>

<p>以上的SQL语句实际上是进行了默认的日期格式化，<br>自动将数据库中的date类型转换成varchar类型。<br>并且采用的格式是mysql默认的日期格式：’%Y-%m-%d’</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select id,name,date_format(birth,&#x27;%Y/%m/%d&#x27;) as birth from t_user;</span><br></pre></td></tr></table></figure>

<p>java中的日期格式？<br>    yyyy-MM-dd HH:mm:ss SSS</p>
<h3 id="7-6、date和datetime两个类型的区别"><a href="#7-6、date和datetime两个类型的区别" class="headerlink" title="7.6、date和datetime两个类型的区别"></a>7.6、date和datetime两个类型的区别</h3><p>date是短日期：只包括年月日信息。<br>​datetime是长日期：包括年月日时分秒信息。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">drop table if exists t_user;</span><br><span class="line">create table t_user(</span><br><span class="line">	id int,</span><br><span class="line">	name varchar(32),</span><br><span class="line">	birth date,</span><br><span class="line">	create_time datetime</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>id是整数<br>name是字符串<br>birth是短日期<br>create_time是这条记录的创建时间：长日期类型</p>
<p>mysql短日期默认格式：%Y-%m-%d<br>mysql长日期默认格式：%Y-%m-%d %h:%i:%s</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">insert into t_user(id,name,birth,create_time) values(1,&#x27;zhangsan&#x27;,&#x27;1990-10-01&#x27;,&#x27;2020-03-18 15:49:50&#x27;);</span><br><span class="line">在mysql当中怎么获取系统当前时间？</span><br><span class="line">now() 函数，并且获取的时间带有：时分秒信息！！！！是datetime类型的。</span><br><span class="line">insert into t_user(id,name,birth,create_time) values(2,&#x27;lisi&#x27;,&#x27;1991-10-01&#x27;,now());</span><br></pre></td></tr></table></figure>

<h3 id="7-7、修改update（DML）"><a href="#7-7、修改update（DML）" class="headerlink" title="7.7、修改update（DML）"></a>7.7、修改update（DML）</h3><p>语法格式：<br>    update 表名 set 字段名1&#x3D;值1,字段名2&#x3D;值2,字段名3&#x3D;值3… where 条件;</p>
<p>注意：没有条件限制会导致所有数据全部更新。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">update t_user set name = &#x27;jack&#x27;, birth = &#x27;2000-10-11&#x27; where id = 2;</span><br><span class="line">+------+----------+------------+---------------------+</span><br><span class="line">| id   | name     | birth      | create_time         |</span><br><span class="line">+------+----------+------------+---------------------+</span><br><span class="line">|    1 | zhangsan | 1990-10-01 | 2020-03-18 15:49:50 |</span><br><span class="line">|    2 | jack     | 2000-10-11 | 2020-03-18 15:51:23 |</span><br><span class="line">+------+----------+------------+---------------------+</span><br><span class="line"></span><br><span class="line">update t_user set name = &#x27;jack&#x27;, birth = &#x27;2000-10-11&#x27;, create_time = now() where id = 2;</span><br><span class="line"></span><br><span class="line">更新所有？</span><br><span class="line">	update t_user set name = &#x27;abc&#x27;;</span><br></pre></td></tr></table></figure>

<p>7.8、删除数据 delete （DML）<br>语法格式：<br>        delete from 表名 where 条件;</p>
<p>注意：没有条件，整张表的数据会全部删除！</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">delete from t_user where id = 2;</span><br><span class="line"></span><br><span class="line">insert into t_user(id) values(2);</span><br><span class="line"></span><br><span class="line">delete from t_user; // 删除所有！</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="http://example.com">Evalin</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://example.com/post/9436f855.html">http://example.com/post/9436f855.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/MySQL/">MySQL</a></div><div class="post_share"><div class="social-share" data-image="https://i.hd-r.cn/242f2f2d8520b9f8f8c3369ee8e8ab8b.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/e331c8c3.html" title="MySQL学习day03"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.hd-r.cn/242f2f2d8520b9f8f8c3369ee8e8ab8b.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">MySQL学习day03</div></div></a></div><div class="next-post pull-right"><a href="/post/d3fa9ef.html" title="MySQL学习day01"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.hd-r.cn/242f2f2d8520b9f8f8c3369ee8e8ab8b.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">MySQL学习day01</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/post/d3fa9ef.html" title="MySQL学习day01"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.hd-r.cn/242f2f2d8520b9f8f8c3369ee8e8ab8b.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-16</div><div class="title">MySQL学习day01</div></div></a></div><div><a href="/post/e331c8c3.html" title="MySQL学习day03"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.hd-r.cn/242f2f2d8520b9f8f8c3369ee8e8ab8b.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-02</div><div class="title">MySQL学习day03</div></div></a></div><div><a href="/post/7d555d60.html" title="MySQL学习day04"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.hd-r.cn/8e76f19ad6266baad437ccb2f0b5973e.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-02</div><div class="title">MySQL学习day04</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.hd-r.cn/5a6b177ecf0d84eb9957f91a87abb446.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Evalin</div><div class="author-info__description">Follow your heart</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" href="https://github.com/Evalin233"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Evalin233" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Welcome to my Blog!<div class="xpand" style="height:200px;"></div></div></div><canvas class="illo" width="800" height="800" style="max-width: 200px; max-height: 200px; touch-action: none; width: 640px; height: 640px;"></canvas><script src="https://fastly.jsdelivr.net/gh/xiaopengand/blogCdn@latest/xzxr/twopeople1.js"></script><script src="https://fastly.jsdelivr.net/gh/xiaopengand/blogCdn@latest/xzxr/zdog.dist.js"></script><script id="rendered-js" src="https://fastly.jsdelivr.net/gh/xiaopengand/blogCdn@latest/xzxr/twopeople.js"></script><style>.card-widget.card-announcement {
margin: 0;
align-items: center;
justify-content: center;
text-align: center;
}
canvas {
display: block;
margin: 0 auto;
cursor: move;
}</style><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL%E5%AD%A6%E4%B9%A0-day02"><span class="toc-number">1.</span> <span class="toc-text">MySQL学习-day02</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E6%8A%8A%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E5%8E%BB%E9%99%A4%E9%87%8D%E5%A4%8D%E8%AE%B0%E5%BD%95%E3%80%90distinct%E3%80%91"><span class="toc-number">1.1.</span> <span class="toc-text">1、把查询结果去除重复记录【distinct】</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.2.</span> <span class="toc-text">2、连接查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%BB%80%E4%B9%88%E6%98%AF%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2%EF%BC%9F"><span class="toc-number">1.2.1.</span> <span class="toc-text">2.1 什么是连接查询？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.2 连接查询的分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E5%BD%93%E4%B8%A4%E5%BC%A0%E8%A1%A8%E8%BF%9B%E8%A1%8C%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2%E6%97%B6%EF%BC%8C%E6%B2%A1%E6%9C%89%E4%BB%BB%E4%BD%95%E6%9D%A1%E4%BB%B6%E7%9A%84%E9%99%90%E5%88%B6%E4%BC%9A%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88%E7%8E%B0%E8%B1%A1%EF%BC%9F"><span class="toc-number">1.2.3.</span> <span class="toc-text">2.3 当两张表进行连接查询时，没有任何条件的限制会发生什么现象？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E6%80%8E%E4%B9%88%E9%81%BF%E5%85%8D%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF%E7%8E%B0%E8%B1%A1%EF%BC%9F"><span class="toc-number">1.2.4.</span> <span class="toc-text">2.4 怎么避免笛卡尔积现象？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%E5%86%85%E8%BF%9E%E6%8E%A5%E4%B9%8B%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5%E3%80%82"><span class="toc-number">1.2.5.</span> <span class="toc-text">2.5 内连接之等值连接。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E5%86%85%E8%BF%9E%E6%8E%A5%E4%B9%8B%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.2.6.</span> <span class="toc-text">2.6 内连接之非等值连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-%E5%86%85%E8%BF%9E%E6%8E%A5%E4%B9%8B%E8%87%AA%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.2.7.</span> <span class="toc-text">2.7 内连接之自连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.2.8.</span> <span class="toc-text">2.8 外连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-9%E3%80%81%E4%B8%89%E5%BC%A0%E8%A1%A8%EF%BC%8C%E5%9B%9B%E5%BC%A0%E8%A1%A8%E6%80%8E%E4%B9%88%E8%BF%9E%E6%8E%A5%EF%BC%9F"><span class="toc-number">1.2.9.</span> <span class="toc-text">2.9、三张表，四张表怎么连接？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.3.</span> <span class="toc-text">3、子查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%9F"><span class="toc-number">1.3.1.</span> <span class="toc-text">3.1、什么是子查询？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2%E3%80%81%E5%AD%90%E6%9F%A5%E8%AF%A2%E9%83%BD%E5%8F%AF%E4%BB%A5%E5%87%BA%E7%8E%B0%E5%9C%A8%E5%93%AA%E9%87%8C"><span class="toc-number">1.3.2.</span> <span class="toc-text">3.2、子查询都可以出现在哪里</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3%E3%80%81where%E5%AD%90%E5%8F%A5%E4%B8%AD%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.3.3.</span> <span class="toc-text">3.3、where子句中的子查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4%E3%80%81from%E5%AD%90%E5%8F%A5%E4%B8%AD%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.3.4.</span> <span class="toc-text">3.4、from子句中的子查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5%E3%80%81select%E5%90%8E%E9%9D%A2%E5%87%BA%E7%8E%B0%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%88%E8%BF%99%E4%B8%AA%E5%86%85%E5%AE%B9%E4%B8%8D%E9%9C%80%E8%A6%81%E6%8E%8C%E6%8F%A1%EF%BC%8C%E4%BA%86%E8%A7%A3%E5%8D%B3%E5%8F%AF%EF%BC%89"><span class="toc-number">1.3.5.</span> <span class="toc-text">3.5、select后面出现的子查询（这个内容不需要掌握，了解即可）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81union%E5%90%88%E5%B9%B6%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E9%9B%86"><span class="toc-number">1.4.</span> <span class="toc-text">4、union合并查询结果集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81limit%EF%BC%88%E9%9D%9E%E5%B8%B8%E9%87%8D%E8%A6%81%EF%BC%89"><span class="toc-number">1.5.</span> <span class="toc-text">5、limit（非常重要）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1%E3%80%81limit%E4%BD%9C%E7%94%A8"><span class="toc-number">1.5.1.</span> <span class="toc-text">5.1、limit作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2%E3%80%81limit%E6%80%8E%E4%B9%88%E7%94%A8"><span class="toc-number">1.5.2.</span> <span class="toc-text">5.2、limit怎么用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3%E3%80%81%E5%88%86%E9%A1%B5"><span class="toc-number">1.5.3.</span> <span class="toc-text">5.3、分页</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81%E5%85%B3%E4%BA%8EDQL%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%A4%A7%E6%80%BB%E7%BB%93%EF%BC%9A"><span class="toc-number">1.6.</span> <span class="toc-text">6、关于DQL语句的大总结：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E3%80%81%E8%A1%A8%E7%9A%84%E5%88%9B%E5%BB%BA%EF%BC%88%E5%BB%BA%E8%A1%A8%EF%BC%89"><span class="toc-number">1.7.</span> <span class="toc-text">7、表的创建（建表）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1%E3%80%81%E5%BB%BA%E8%A1%A8%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F%EF%BC%9A"><span class="toc-number">1.7.1.</span> <span class="toc-text">7.1、建表的语法格式：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2%E3%80%81%E5%85%B3%E4%BA%8Emysql%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.7.2.</span> <span class="toc-text">7.2、关于mysql中的数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3%E3%80%81%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%AD%A6%E7%94%9F%E8%A1%A8"><span class="toc-number">1.7.3.</span> <span class="toc-text">7.3、创建一个学生表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4%E3%80%81%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AEinsert-%EF%BC%88DML%EF%BC%89"><span class="toc-number">1.7.4.</span> <span class="toc-text">7.4、插入数据insert （DML）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5%E3%80%81insert%E6%8F%92%E5%85%A5%E6%97%A5%E6%9C%9F"><span class="toc-number">1.7.5.</span> <span class="toc-text">7.5、insert插入日期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6%E3%80%81date%E5%92%8Cdatetime%E4%B8%A4%E4%B8%AA%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.7.6.</span> <span class="toc-text">7.6、date和datetime两个类型的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7%E3%80%81%E4%BF%AE%E6%94%B9update%EF%BC%88DML%EF%BC%89"><span class="toc-number">1.7.7.</span> <span class="toc-text">7.7、修改update（DML）</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/716958ef.html" title="Oracle学习"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.hd-r.cn/5dea464ac15c47aeb60f32100b0fbae8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Oracle学习"/></a><div class="content"><a class="title" href="/post/716958ef.html" title="Oracle学习">Oracle学习</a><time datetime="2023-07-25T13:04:38.000Z" title="Created 2023-07-25 21:04:38">2023-07-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/7d555d60.html" title="MySQL学习day04"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.hd-r.cn/8e76f19ad6266baad437ccb2f0b5973e.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL学习day04"/></a><div class="content"><a class="title" href="/post/7d555d60.html" title="MySQL学习day04">MySQL学习day04</a><time datetime="2023-07-02T08:45:28.000Z" title="Created 2023-07-02 16:45:28">2023-07-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/e331c8c3.html" title="MySQL学习day03"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.hd-r.cn/242f2f2d8520b9f8f8c3369ee8e8ab8b.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL学习day03"/></a><div class="content"><a class="title" href="/post/e331c8c3.html" title="MySQL学习day03">MySQL学习day03</a><time datetime="2023-07-02T08:44:35.000Z" title="Created 2023-07-02 16:44:35">2023-07-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/9436f855.html" title="MySQL学习day02"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.hd-r.cn/242f2f2d8520b9f8f8c3369ee8e8ab8b.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL学习day02"/></a><div class="content"><a class="title" href="/post/9436f855.html" title="MySQL学习day02">MySQL学习day02</a><time datetime="2023-06-24T01:54:06.000Z" title="Created 2023-06-24 09:54:06">2023-06-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/d3fa9ef.html" title="MySQL学习day01"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.hd-r.cn/242f2f2d8520b9f8f8c3369ee8e8ab8b.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL学习day01"/></a><div class="content"><a class="title" href="/post/d3fa9ef.html" title="MySQL学习day01">MySQL学习day01</a><time datetime="2023-06-16T02:37:50.000Z" title="Created 2023-06-16 10:37:50">2023-06-16</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://i.hd-r.cn/242f2f2d8520b9f8f8c3369ee8e8ab8b.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2023 By Evalin</div><div class="framework-info"><span>Framework </span><a href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="50" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>